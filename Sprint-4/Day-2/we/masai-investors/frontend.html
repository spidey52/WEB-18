<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="css/common.css">
	<link rel="stylesheet" href="css/frontend.css">
	<title>Masai Investors</title>
</head>

<body>

	<div id="navbar">
		<h1>
			<a href="frontend.html">Frontend</a>
		</h1>
		<h1>
			<a href="backend.html">Backend</a>
		</h1>
	</div>

	<div class="container">
		<div class="root">
		</div>
	</div>
	</div>


	<script>


		let investors = JSON.parse(localStorage.getItem('investors')) || []

		function generateCard(data) {
			const card = document.createElement('div')
			const img = document.createElement('img')
			const name = document.createElement('h3')
			const logo = document.createElement('img')
			const designation = document.createElement('p')
			let button = document.createElement('p')
			button.innerText = "X"
			button.setAttribute('id', data.id);
			button.setAttribute('class', 'delete');

			button.addEventListener('click', (e) => {
				let id = +e.target.id
				investors = investors.filter(elem => {

					console.log(elem)
					return elem.id !== id;

				});
				localStorage.setItem('investors', JSON.stringify(investors));
				render()

			})


			img.src = data.img
			name.innerHTML = data.name
			designation.innerHTML = data.role
			logo.src = data.logo

			card.append(img, name, designation, logo, button)

			card.classList.add('card');

			return card

		}

		function render() {

			console.log(investors)
			const root = document.querySelector('.root')
			root.innerHTML = ""
			for (let i = 0; i < investors.length; i++) {
				const card = generateCard(investors[i]);
				root.appendChild(card)
			}
		}
		render()




	</script>





</body>

</html>